<!-- User logged in -->



<div *ngIf="auth.user$ | async; then authenticated else guest">
  
</div>

<ng-template #authenticated>

 <div  *ngIf="auth.user$ | async as user">

<nav class="navbar navbar-light" style="background-color: #e3f2fd;" >

    <div class="d-flex flex-column">

        
   <div class = "d-flex flex-row justify-content-between" style="width: 1300px;">

   <button class="navbar-toggler" [attr.aria-expanded]="!isCollapsed" type="button"  aria-controls="collapseExample" 
  (click)="isCollapsed = !isCollapsed">
     <span class="navbar-toggler-icon"></span>
      </button>

      <a class="nav-item nav-link" routerLink="/">Home</a>
      <div class="h-100 mx-auto"><span class="navbar-text">Welcome {{user.displayName}}</span> </div>
      
      <a class="nav-item nav-link float-right" (click)="auth.signOut()">Logout</a>

    </div>


    <div>
        <div id="collapseExample" [ngbCollapse]="isCollapsed" class="collapse">  
          <ul class="ist-group ml-10 nav-ul">
            <a class="nav-item nav-link" routerLink="/vacations">Submitted Vacations</a> 
         
          </ul>
    
      </div>
          </div> 


  </div> 
        
</nav>

<div class="container-fluid">
<h1>Current Vacations: {{VacationRef?.TotalVacations}}</h1>
<h3>Annual Vacations: {{VacationRef?.Annual}}</h3>
<h3>Casual Vacations:{{VacationRef?.Casual}}</h3>
  

<button (click)="toggle()" id="bt" class="btn-primary">Submit a new Vacation</button>

</div>

</div>

</ng-template>




<!-- User NOT logged in -->
<ng-template #guest>

<div class="jumbotron">

  <h1 class="display-4 text-center">Welcome to Team Vacation Planner</h1>
  
  <h6>Login to continue</h6>
  
  <button (click)="auth.googleSignin()" class="btn btn-primary">
  Google Account
  </button>

</div>

</ng-template>



    


<div class="container-fluid">
              <alert></alert>
            
              <router-outlet></router-outlet>

</div>
        

<div id="document">
    

 
  <ng-container *ngIf="show">
  <form class="form-horizontal">
  
    <div style="width: 50%;">
        <label>Select Vacation Type</label>
        <br>
        <select id="vacationType" [(ngModel)]="selectedVacationType" name="first" class="form-control">
               <option *ngFor="let o of options">
                 {{o.name}}
               </option>
              </select>
              <br>
  
        <ngbd-datepicker-range (EndDateEvent)="setEndDate($event)" (FromDateEvent)="setFromDate($event)" (dateDifferenceEvent)="setDifference($event)" class="container"></ngbd-datepicker-range>  
          
    </div>
    <br>
   
    
  </form>
  <button (click)="decrement()" class="btn-success">Confrim</button>
  
  </ng-container>
  </div>
  
  


